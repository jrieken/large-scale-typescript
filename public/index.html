<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Building a large scale JavaScript application  in TypeScript</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" media="screen" href="/dist/reveal.js/css/reveal.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/dist/reveal.js/css/theme/white.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/dist/reveal.js/lib/css/zenburn.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h2>Building a large scale JavaScript application  in TypeScript</h2>
				<p><small><strong>João Moreno</strong><br/><a href="mailto:joao.moreno@microsoft.com">joao.moreno@microsoft.com</a></small></p>
				<p><img src="microsoft.png" style="border:none; box-shadow:none;" /></p>
			</section>
			<section>
				<h3>How are you feeling today?</h3>
				<p><a href="http://poll.azurewebsites.net/">Poll!</a></p>
			</section>
			<section>
				<h3>What do we build?</h3>
				<p>Web Standars based<br/>Developer Tools and<br/>Cloud Services</p>
			</section>
			<section>
				<h3>
					<a href="https://onedrive.live.com/">
						<img src="onedrive.svg" style="border:none; box-shadow:none; width: 300px;" />
					</a>
				</h3>
				<p><img src="onedrive-screenshot.png" /></p>
			</section>
			<section>
				<h3>
					<a href="http://www.typescriptlang.org/">
						<img src="typescript.png" style="border:none; box-shadow:none; width: 300px;" />
					</a>
				</h3>
				<p><img src="typescript-screenshot.png" /></p>
			</section>
			<section>
				<h3>
					<a href="https://www.visualstudio.com/">
						<img src="vso.png" style="border:none; box-shadow:none; width: 400px;" />
					</a>
				</h3>
				<p><img src="vso-screenshot.png" /></p>
			</section>
			<section>
				<h3>
					<a href="http://windows.microsoft.com/en-us/internet-explorer/browser-ie">
						<img src="ie.png" style="border:none; box-shadow:none;" />
					</a>
				</h3>
				<p><img src="f12.png" /></p>
			</section>
			<section>
				<h3>
					<a href="https://dev.windows.com/en-us/develop/winjs">
						<img src="winjs.png" style="border:none; box-shadow:none; width: 200px;" />
					</a>
				</h3>
				<p><img src="winjs-screenshot.png" /></p>
			</section>
			<section>
				<h3>
					<a href="http://www.rise4fun.com/" style="text-transform:none;color:black;font-family: Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;">
						rise4fun
					</a>
				</h3>
				<p><img src="rise4fun-screenshot.png" /></p>
			</section>
			<section>
				<h3>
					<a href="http://channel9.msdn.com/Series/Visual-Studio-Online-Monaco">
						<img src="monaco.png" style="border:none; box-shadow:none; width: 500px;" />
					</a>
				</h3>
				<p><img src="monaco-screenshot.png" /></p>
			</section>
			<section>
				<h3>Visual Studio Online "Monaco"</h3>
				<p>Large JavaScript application</p>
				<p class="fragment">90% client side code</p>
				<p class="fragment">10% server side code<br/><img src="node.png" style="border:none; box-shadow:none; width: 200px;" /></p>
			</section>
			<section>
				<h3>The Road to Monaco</h3>
				<table class="road-to-monaco">
					<thead>
						<tr>
							<th>50 kLOC</th>
							<th class="fragment fade-out" data-fragment-index="1">100 kLOC</th>
							<th class="fragment fade-out" data-fragment-index="1">500 kLOC</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Modules<br/>Classes<br/>Interfaces<br/>Promises</td>
							<td class="fragment fade-out" data-fragment-index="1">AMD<br/>Lazy Loading<br/>Contributions</td>
							<td class="fragment fade-out" data-fragment-index="1">Components<br/>Dependency Injection</td>
						</tr>
						<tr>
							<td>10% TypeScript</td>
							<td class="fragment fade-out" data-fragment-index="1">50% TypeScript</td>
							<td class="fragment fade-out" data-fragment-index="1">100% TypeScript</td>
						</tr>
					</tbody>
				</table>
				<p class="fragment fade-out" data-fragment-index="1">
					<small style="float:right; opacity: 0.8;">today</small>
					<small style="float:left; opacity: 0.8;">Autumn 2011</small>
				</p>
			</section>
			<section>
				<h3>We enjoy programming in JavaScript <span class="fragment">™</span></h3>
			</section>
			<section data-background="js.jpg"></section>
			<section>
				<h3>Pains</h3>
				<p>Large code bases need to come up with <emph>compensating</emph> patterns for <strong>classes</strong>, <strong>modules</strong> and <strong>namespaces</strong>.</p>
				<p class="fragment">Refactoring JavaScript code is <emph>difficult</emph>.</p>
				<p class="fragment"><q>"Javascript code rots over time."</q> — Frustrated Developer</p>
				<p class="fragment">Describing <strong>APIs</strong> means keeping documentation <emph>sychronized</emph> with the implementation.</p>
			</section>
			<section>
				<h3>TypeScript to the rescue</h3>
				<p>All <strong>JavaScript</strong> code is <strong>TypeScript</strong>.</p>
				<p>JavaScript libraries work with TypeScript.</p>
				<pre><code data-trim class="typescript">
function Greeter(greeting) {
    this.greeting = greeting;
}

Greeter.prototype.greet = function() {
    return "Hello, " + this.greeting;
};
				</code></pre>
			</section>
			<section>
				<h3>TypeScript to the rescue</h3>
				<p>Structural typing, type inference.</p>
				<p><emph>Zero run time cost</emph> — Types disappear at run time.</p>
				<pre><code data-trim class="typescript">
var person = {
	name: 'João',
	male: true,
	country: 'Portugal'
};

// error
var lastName = person.lastName;

// isMale is of type boolean
var isMale = person.male;
				</code></pre>
			</section>
			<section>
				<h3>TypeScript to the rescue</h3>
				<p>Compiles to <emph>idiomatic</emph> JavaScript.</p>
				<p>Runs <emph>everywhere</emph>.</p>
				<pre class="fragment"><code data-trim class="typescript">
// DOM access

var button = document.createElement('button');
button.textContent = "Say Hello";
button.onclick = () => alert('Hello!');
				</code></pre>
				<pre class="fragment"><code data-trim class="typescript">
// Node.JS Express server

var express = require('express');
var app = express();

app.get('/', (req, res) => res.send('Hello!'));
app.listen(3000);
				</code></pre>
			</section>
			<section>
				<h3>Demo</h3>
			</section>
			<section>
				<h3>The Road to Monaco</h3>
				<table class="road-to-monaco">
					<thead>
						<tr>
							<th class="fragment fade-out" data-fragment-index="1">50 kLOC</th>
							<th>100 kLOC</th>
							<th class="fragment fade-out" data-fragment-index="1">500 kLOC</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="fragment fade-out" data-fragment-index="1">Modules<br/>Classes<br/>Interfaces<br/>Promises</td>
							<td>AMD<br/>Lazy Loading<br/>Contributions</td>
							<td class="fragment fade-out" data-fragment-index="1">Components<br/>Dependency Injection</td>
						</tr>
						<tr>
							<td class="fragment fade-out" data-fragment-index="1">10% TypeScript</td>
							<td>50% TypeScript</td>
							<td class="fragment fade-out" data-fragment-index="1">100% TypeScript</td>
						</tr>
					</tbody>
				</table>
				<p class="fragment fade-out" data-fragment-index="1">
					<small style="float:right; opacity: 0.8;">today</small>
					<small style="float:left; opacity: 0.8;">Autumn 2011</small>
				</p>
			</section>
			<section>
				<h3>Code Organization</h3>
				<p><emph>Namespaces</emph> were global object bags.</p>
				<pre><code data-trim class="typescript">
var Monaco = {};
Monaco.Strings = {};
Monaco.Strings.Util = {};
Monaco.Strings.Util.trim = function () { /* etc */ };
				</code></pre>
				<p class="fragment">No relationship to the <emph>source files</emph> on disk.</p>
				<p class="fragment">Renaming files, refactoring was a <strong>huge</strong> pain.</p>
				<p class="fragment"><emph>Cycling dependencies</emph> were easily unnoticed.</p>
			</section>
			<section>
				<h3>Dependency Management</h3>
				<blockquote>"… our dependency graph was such a mess that each area had a dependency on just about every other area."</blockquote>
				<small style="float: right; opacity: 0.8;">— Embarrassed Developer</small>
				<img src="dependencies.png" style="width: 600px; border:none; box-shadow:none;" />
			</section>
			<section>
				<h3>Script Order</h3>
				<img src="script-order1.png" style="width: 500px; border:none; box-shadow:none;" />
				<img src="script-order2.png" style="width: 700px; border:none; box-shadow:none;" />
			</section>
			<section>
				<h3>Eager Script Loading</h3>
				<img src="eager.png" style="width: 800px; border:none; box-shadow:none;" />
			</section>
			<section>
				<h3>AMD</h3>
				<p><strong>Asynchronous Module Definition</strong></p>
				<pre><code data-trim class="typescript">
define('module_id', ['dependency_id'], function(dependency) {​
	// code
	
	return {​
		// exports
	};
});
				</code></pre>
				<p><small>Popularized by <a href="http://requirejs.org/">RequireJS</a>.</small></p>
			</section>
			<section>
				<h3>TypeScript External Modules</h3>
				<p>TypeScript supports <emph>external modules</emph>, from which it can generate either <strong>CommonJS</strong> or <strong>AMD</strong> modules.</p>
				<pre><code data-trim class="typescript">
import dependency = require('dependency_id');

export function foo() {
	// code
}
				</code></pre>
				<p class="fragment">While <emph>sharing code</emph> between CommonJS and AMD is hard by nature, TypeScript makes this a breeze.</p>
			</section>
			<section>
				<h3>Demo</h3>
			</section>
		</div>
	</div>
	
	<script src="/dist/reveal.js/lib/js/head.min.js"></script>
	<script src="/dist/reveal.js/js/reveal.js"></script>
	<script src="/main.js"></script>
</body>
</html>